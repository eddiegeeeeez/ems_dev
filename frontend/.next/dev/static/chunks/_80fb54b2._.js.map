{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer%20NITRO%205%20-__-/Downloads/it9%20ni%20edgardough/ems_dev/frontend/components/admin-guard.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useAuth } from \"@/lib/auth-context\"\nimport { useRouter } from \"next/navigation\"\nimport { useEffect } from \"react\"\n\nexport function AdminGuard({ children }: { children: React.ReactNode }) {\n  const { isAuthenticated, isLoading, user } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== \"admin\")) {\n      router.push(\"/\")\n    }\n  }, [isAuthenticated, isLoading, user, router])\n\n  if (isLoading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"h-12 w-12 rounded-full border-4 border-gray-300 border-t-[#c41e3a] animate-spin mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated || user?.role !== \"admin\") {\n    return null\n  }\n\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;;;AANA;;;;AAQO,SAAS,WAAW,EAAE,QAAQ,EAAiC;;IACpE,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACpD,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;gCAAC;YACR,IAAI,CAAC,aAAa,CAAC,CAAC,mBAAmB,MAAM,SAAS,OAAO,GAAG;gBAC9D,OAAO,IAAI,CAAC;YACd;QACF;+BAAG;QAAC;QAAiB;QAAW;QAAM;KAAO;IAE7C,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,IAAI,CAAC,mBAAmB,MAAM,SAAS,SAAS;QAC9C,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GA1BgB;;QAC+B,qIAAO;QACrC,kJAAS;;;KAFV","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer%20NITRO%205%20-__-/Downloads/it9%20ni%20edgardough/ems_dev/frontend/app/admin/calendar/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useData } from \"@/lib/data-context\"\nimport { AdminGuard } from \"@/components/admin-guard\"\nimport { useState, useMemo, useEffect } from \"react\"\nimport FullCalendar from \"@fullcalendar/react\"\nimport dayGridPlugin from \"@fullcalendar/daygrid\"\nimport timeGridPlugin from \"@fullcalendar/timegrid\"\nimport interactionPlugin from \"@fullcalendar/interaction\"\nimport type { EventClickArg } from \"@fullcalendar/core\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\nimport { CalendarIcon, Clock, MapPin, Users } from 'lucide-react'\nimport type { Booking } from \"@/lib/types\"\nimport QRCode from 'qrcode'\n\nexport default function AdminCalendarPage() {\n  const { venues, bookings, users } = useData()\n  const [selectedBooking, setSelectedBooking] = useState<Booking | null>(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [qrCodeUrl, setQrCodeUrl] = useState<string>(\"\")\n\n  const calendarEvents = useMemo(() => {\n    if (!bookings || bookings.length === 0) return []\n\n    return bookings\n      .filter((booking) => booking.status === \"approved\")\n      .map((booking) => {\n        const venue = venues?.find((v) => v.id === booking.venueId)\n        const organizer = users?.find((u) => u.id === booking.organizerId)\n\n        return {\n          id: booking.id,\n          title: `${booking.eventTitle} - ${venue?.name || \"Unknown Venue\"}`,\n          start: `${booking.startDate}T${booking.startTime}`,\n          end: `${booking.endDate}T${booking.endTime}`,\n          backgroundColor: \"#8B1538\", // UM maroon color\n          borderColor: \"#8B1538\",\n          extendedProps: {\n            booking,\n            venue,\n            organizer,\n          },\n        }\n      })\n  }, [bookings, venues, users])\n\n  const handleEventClick = (clickInfo: EventClickArg) => {\n    const booking = clickInfo.event.extendedProps.booking as Booking\n    setSelectedBooking(booking)\n    setIsModalOpen(true)\n  }\n\n  useEffect(() => {\n    if (selectedBooking) {\n      const bookingReference = `UM-EVENT-${selectedBooking.id}`\n      QRCode.toDataURL(bookingReference, {\n        width: 200,\n        margin: 2,\n        color: {\n          dark: '#000000',\n          light: '#FFFFFF'\n        }\n      }).then(setQrCodeUrl)\n    }\n  }, [selectedBooking])\n\n  const selectedVenue = selectedBooking ? venues?.find((v) => v.id === selectedBooking.venueId) : null\n  const selectedOrganizer = selectedBooking ? users?.find((u) => u.id === selectedBooking.organizerId) : null\n\n  return (\n    <AdminGuard>\n      <main className=\"min-h-screen bg-gray-50\">\n        <div className=\"w-full px-4 md:px-6 lg:px-8 py-6 md:py-8\">\n          <div className=\"mb-6 md:mb-8\">\n            <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900\">Venue Calendar</h1>\n            <p className=\"text-sm md:text-base text-gray-600 mt-2\">View all approved bookings in calendar view</p>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm p-4 md:p-6\">\n            <style jsx global>{`\n              .fc {\n                font-family: inherit;\n              }\n              .fc .fc-button {\n                background-color: #8B1538;\n                border-color: #8B1538;\n                text-transform: capitalize;\n                padding: 0.5rem 1rem;\n                font-size: 0.875rem;\n              }\n              .fc .fc-button:hover {\n                background-color: #6B1028;\n                border-color: #6B1028;\n              }\n              .fc .fc-button:focus {\n                box-shadow: 0 0 0 0.2rem rgba(139, 21, 56, 0.25);\n              }\n              .fc .fc-button-active {\n                background-color: #6B1028;\n                border-color: #6B1028;\n              }\n              .fc-theme-standard td,\n              .fc-theme-standard th {\n                border-color: #e5e7eb;\n              }\n              .fc-theme-standard .fc-scrollgrid {\n                border-color: #e5e7eb;\n              }\n              .fc .fc-daygrid-day-number {\n                color: #374151;\n                font-weight: 500;\n              }\n              .fc .fc-col-header-cell-cushion {\n                color: #111827;\n                font-weight: 600;\n                text-transform: uppercase;\n                font-size: 0.75rem;\n              }\n              .fc .fc-event {\n                cursor: pointer;\n              }\n              .fc .fc-event:hover {\n                opacity: 0.9;\n              }\n            `}</style>\n            <FullCalendar\n              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n              initialView=\"dayGridMonth\"\n              headerToolbar={{\n                left: \"prev,next today\",\n                center: \"title\",\n                right: \"dayGridMonth,timeGridWeek,timeGridDay\",\n              }}\n              events={calendarEvents}\n              eventClick={handleEventClick}\n              height=\"auto\"\n              eventDisplay=\"block\"\n              displayEventTime={true}\n              eventTimeFormat={{\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                hour12: true,\n              }}\n            />\n          </div>\n\n          <Dialog open={isModalOpen} onOpenChange={setIsModalOpen}>\n            <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <DialogHeader>\n                <DialogTitle className=\"text-xl font-bold text-gray-900\">Event Details</DialogTitle>\n                <DialogDescription className=\"text-sm text-gray-600\">\n                  View complete information about this booking\n                </DialogDescription>\n              </DialogHeader>\n\n              {selectedBooking && (\n                <div className=\"space-y-6 mt-4\">\n                  <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                    <div className=\"flex items-start gap-6\">\n                      {qrCodeUrl && (\n                        <div className=\"flex-shrink-0\">\n                          <img\n                            src={qrCodeUrl || \"/placeholder.svg\"}\n                            alt=\"Event QR Code\"\n                            className=\"w-48 h-48 border-2 border-gray-200 rounded-lg\"\n                          />\n                        </div>\n                      )}\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Your Digital Pass</h3>\n                        <p className=\"text-sm text-gray-600 leading-relaxed\">\n                          Use this QR code to check in and out of events. Event organizers can scan it to verify your attendance.\n                        </p>\n                        <div className=\"mt-3 text-xs font-mono text-gray-500 bg-gray-50 px-3 py-2 rounded\">\n                          Reference: UM-EVENT-{selectedBooking.id}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                      <p className=\"text-xs text-yellow-800\">\n                        This QR code updates periodically for security reasons. Always use the latest version shown in your account.\n                      </p>\n                    </div>\n                  </div>\n\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{selectedBooking.eventTitle}</h3>\n                    <p className=\"text-sm text-gray-600 mt-1\">{selectedBooking.eventDescription}</p>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"flex items-start gap-3\">\n                      <MapPin className=\"h-5 w-5 text-[#8B1538] mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">Venue</p>\n                        <p className=\"text-sm text-gray-600\">{selectedVenue?.name}</p>\n                        <p className=\"text-xs text-gray-500\">{selectedVenue?.location}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <CalendarIcon className=\"h-5 w-5 text-[#8B1538] mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">Date</p>\n                        <p className=\"text-sm text-gray-600\">\n                          {new Date(selectedBooking.startDate).toLocaleDateString(\"en-US\", {\n                            weekday: \"long\",\n                            year: \"numeric\",\n                            month: \"long\",\n                            day: \"numeric\",\n                          })}\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <Clock className=\"h-5 w-5 text-[#8B1538] mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">Time</p>\n                        <p className=\"text-sm text-gray-600\">\n                          {selectedBooking.startTime} - {selectedBooking.endTime}\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-start gap-3\">\n                      <Users className=\"h-5 w-5 text-[#8B1538] mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">Expected Attendees</p>\n                        <p className=\"text-sm text-gray-600\">{selectedBooking.expectedAttendees} people</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900 mb-2\">Organizer</p>\n                    <div className=\"bg-gray-50 rounded-lg p-3\">\n                      <p className=\"text-sm font-medium text-gray-900\">{selectedOrganizer?.name}</p>\n                      <p className=\"text-xs text-gray-600\">{selectedOrganizer?.email}</p>\n                      {selectedOrganizer?.college && (\n                        <p className=\"text-xs text-gray-500 mt-1\">{selectedOrganizer.college}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  {selectedBooking.equipment && selectedBooking.equipment.length > 0 && (\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-900 mb-2\">Required Equipment</p>\n                      <div className=\"space-y-1\">\n                        {selectedBooking.equipment.map((eq) => {\n                          const equipment = mockEquipment?.find((e) => e.id === eq.equipmentId)\n                          return (\n                            <div key={eq.equipmentId} className=\"text-sm text-gray-600\">\n                              â€¢ {equipment?.name} (Quantity: {eq.quantity})\n                            </div>\n                          )\n                        })}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </DialogContent>\n          </Dialog>\n        </div>\n      </main>\n    </AdminGuard>\n  )\n}\n\nconst mockEquipment = [\n  { id: \"eq-1\", name: \"Projector\" },\n  { id: \"eq-2\", name: \"Sound System\" },\n  { id: \"eq-3\", name: \"Whiteboard\" },\n  { id: \"eq-4\", name: \"Chairs\" },\n]\n"],"names":[],"mappings":"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","debugId":null}}]
}